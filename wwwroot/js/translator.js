// Complete Translation Dictionary
const translations = {
    en: {
        // Common
        welcome: "Welcome",
        login: "Login",
        register: "Register",
        username: "Username",
        password: "Password",
        email: "Email",
        submit: "Submit",
        cancel: "Cancel",
        save: "Save",
        delete: "Delete",
        edit: "Edit",
        search: "Search",
        home: "Home",
        profile: "Profile",
        settings: "Settings",
        logout: "Logout",
        privacy: "Privacy",
        yes: "Yes",
        no: "No",
        ok: "OK",
        back: "Back",
        next: "Next",
        previous: "Previous",
        name: "Name",
        phone: "Phone",
        address: "Address",
        date: "Date",
        time: "Time",
        status: "Status",
        active: "Active",
        inactive: "Inactive",
        success: "Success",
        error: "Error",
        loading: "Loading...",
        close: "Close",

        // Auth
        full_name: "Full Name",
        phone_number: "Phone Number",
        id_number: "ID Number",
        confirm_password: "Confirm Password",
        registration_successful: "Registration successful! Please log in.",
        all_fields_required: "All fields are required",
        passwords_not_match: "Passwords do not match",
        username_exists: "Username already exists",
        id_exists: "ID number already registered",
        invalid_credentials: "Username or password is incorrect",
        user_inactive: "User account is inactive",
        password_min_length: "Password must be at least 4 characters",
        admin_login: "Admin Login",
        admin_credentials: "Username: admin | Password: 123456",
        create_account: "Create Account",
        already_have_account: "Already have an account?",
        no_account: "Don't have an account?",
        login_now: "Login Now",

        // Language Selection
        select_language: "Select Your Preferred Language",
        language_selection: "Language Selection",
        choose_language: "Please choose your preferred language to continue",
        english: "English",
        sinhala: "Sinhala",
        tamil: "Tamil",
        continue: "Continue",
        language_selected: "Language selected successfully",
        language_info: "Your selected language will be used throughout the application. You can change it anytime from the settings.",

        // Bus Search
        find_your_bus: "Find Your Bus",
        from: "From",
        to: "To",
        departure_date: "Departure Date",
        search_buses: "Search Buses",
        no_buses_found: "No buses found for the selected route and date",
        found_buses: "Found {count} buses",
        bus_number: "Bus Number",
        departure_time: "Departure Time",
        seats: "Number of Seats",
        seat_structure: "Seat Structure",
        condition: "Condition",
        distance: "Distance",
        estimated_time: "Estimated Time",
        scheduled_date: "Schedule Date",
        book_now: "Book Now",
        please_fill_fields: "Please fill all fields",
        searching: "Searching...",

        // Booking
        select_seats: "Select Seats",
        available: "Available",
        booked: "Booked",
        selected: "Selected",
        total_price: "Total Price",
        proceed_payment: "Proceed to Payment",
        booking_details: "Booking Details",
        passenger_name: "Passenger Name",
        passenger_phone: "Passenger Phone",
        passenger_email: "Passenger Email",
        
        // Booking Page - SelectSeats
        select_your_seats: "Select Your Seats",
        from_location: "From",
        to_location: "To",
        bus_number: "Bus Number",
        available_seats: "Available Seats",
        selected_hold: "Selected (Hold)",
        processing: "Processing (20min)",
        driver: "Driver",
        legend: "Legend",
        seat_selection_guide: "Click on available seats to select them. At least 1 seat required to proceed.",
        selected_seats: "Selected Seats",
        total_fare: "Total Fare",
        boarding_drop: "Boarding & Drop Location",
        pickup_location: "Pickup Location (Boarding)",
        drop_location: "Drop Location",
        where_to_pickup: "Where to pickup",
        where_to_drop: "Where to drop",
        proceed_to_payment: "Proceed to Payment",
        
        // Booking Page - ConfirmBooking
        confirm_your_booking: "Confirm Your Booking",
        selected_seats_label: "Selected Seats",
        no_seats_selected: "No seats selected (booking without seat selection)",
        pickup_location_label: "Pickup Location",
        drop_location_label: "Drop Location",
        distance: "Distance",
        fare_per_km: "Fare per KM",
        base_fare: "Base Fare (Distance × Fare/KM)",
        service_charge: "Service Charge",
        total_fare_label: "TOTAL FARE",
        card_payment_details: "Card Payment Details",
        cardholder_name: "Cardholder Name",
        card_number: "Card Number",
        expiry_date: "Expiry Date (MM/YY)",
        cvv: "CVV",
        security_info: "Your payment information is secure and encrypted",
        pay: "Pay",
        
        // Booking Page - Success
        booking_confirmed: "Booking Confirmed!",
        ticket_booked: "Your bus ticket has been successfully booked",
        booking_reference: "Booking Reference Number",
        booking_id: "Booking ID",
        bus_number_label: "Bus Number",
        status: "Status",
        booking_datetime: "Booking Date & Time",
        route_summary: "Route & Time Summary",
        departure_label: "Departure",
        travel_date: "Travel Date",
        booked_seats: "Booked Seats",
        print_ticket: "Print Ticket",
        back_to_home: "Back to Home",
        qr_code: "QR Code for Bus Entry",
        qr_scan_info: "Show this QR code to the bus conductor during boarding",

        // Messages
        enter_username: "Enter your username",
        enter_password: "Enter your password",
        enter_email: "Enter your email",
        enter_from_location: "Enter departure location",
        enter_destination: "Enter destination",
        admin_note: "Admin Login",
        create_new_account: "Create New Account",

        // Errors
        error_title: "Error",
        error_message: "An error occurred. Please try again.",
        connection_error: "Connection error. Please check your internet.",
        invalid_email: "Invalid email address",
        field_required: "This field is required"
    },

    si: {
        // Common
        welcome: "ආයුබෝවන්",
        login: "ප්‍රවේශ වන්න",
        register: "ලියාපදිංචි වන්න",
        username: "පරිශීලක නාමය",
        password: "මුරපදය",
        email: "විද්‍යුත් තැපෑල",
        submit: "ඉදිරිපත් කරන්න",
        cancel: "අවලංගු කරන්න",
        save: "සුරකින්න",
        delete: "මකන්න",
        edit: "සංස්කරණය කරන්න",
        search: "සොයන්න",
        home: "මුල් පිටුව",
        profile: "පැතිකඩ",
        settings: "සැකසීම්",
        logout: "ඉවත් වන්න",
        privacy: "රහස්‍යතාව",
        yes: "ඔව්",
        no: "නැත",
        ok: "හරි",
        back: "ආපසු",
        next: "ඊළඟ",
        previous: "පෙර",
        name: "නම",
        phone: "දුරකථන අංකය",
        address: "ලිපිනය",
        date: "දිනය",
        time: "වේලාව",
        status: "තත්ත්වය",
        active: "සක්‍රිය",
        inactive: "අක්‍රිය",
        success: "සාර්ථකයි",
        error: "දෝෂයකි",
        loading: "පූරණය වෙමින්...",
        close: "වසන්න",

        // Auth
        full_name: "සම්පූර්ණ නම",
        phone_number: "දුරකථන අංකය",
        id_number: "හැඳුනුම්පත් අංකය",
        confirm_password: "මුරපදය තහවුරු කරන්න",
        registration_successful: "ලියාපදිංචිය සාර්ථකයි! කරුණාකර ප්‍රවේශ වන්න.",
        all_fields_required: "සියලුම ක්ෂේත්‍ර අවශ්‍යයි",
        passwords_not_match: "මුරපද ගැලපෙන්නේ නැත",
        username_exists: "පරිශීලක නාමය දැනටමත් පවතී",
        id_exists: "හැඳුනුම්පත් අංකය දැනටමත් ලියාපදිංචි කර ඇත",
        invalid_credentials: "වැරදි පරිශීලක නාමය හෝ මුරපදය",
        user_inactive: "පරිශීලක ගිණුම අක්‍රිය ය",
        password_min_length: "මුරපදය අවම වශයෙන් අක්ෂර 4 විය යුතුයි",
        admin_login: "පරිපාලක ප්‍රවේශය",
        admin_credentials: "පරිශීලක නාමය: admin | මුරපදය: 123456",
        create_account: "ගිණුම සාදන්න",
        already_have_account: "ඔබට දැනටමත් ගිණුමක් තිබේද?",
        no_account: "ඔබට ගිණුමක් නැතිද?",
        login_now: "දැන් ප්‍රවේශ වන්න",

        // Language Selection
        select_language: "ඔබේ අයිතම භාෂාව තෝරන්න",
        language_selection: "භාෂා තේරීම",
        choose_language: "ඉදිරියට යාමට කරුණාකර ඔබේ අයිතම භාෂාව තෝරන්න",
        english: "ඉංගිරිසි",
        sinhala: "සිංහල",
        tamil: "දෙමළ",
        continue: "ඉදිරියට යන්න",
        language_selected: "භාෂාව සफලව තෝරා ගන්නා ලදී",
        language_info: "ඔබේ තෝරාගත් භාෂාව සම්පූර්ණ යෙදුම පුරා භාවිතා වේ. ඔබට ඕනෑම අවස්ථාවක සැකසීම් වලින් එය වෙනස් කළ හැක.",

        // Bus Search
        find_your_bus: "ඔබේ බස් සොයන්න",
        from: "එතින්",
        to: "දක්වා",
        departure_date: "පිටත්වන දිනය",
        search_buses: "බස් සෙවීම",
        no_buses_found: "තෝරාගත් මාර්ගයට සහ දිනට බස් නොමැත",
        found_buses: "බස් රතයක් ඇත",
        bus_number: "බස් අංකය",
        departure_time: "පිටත්වන වේලාව",
        seats: "ආසන ගණන",
        seat_structure: "ආසන ව්‍යුහය",
        condition: "තත්ත්වය",
        distance: "දුරස්ථය",
        estimated_time: "ගණනය කරන ලද වේලාව",
        scheduled_date: "සැලසුම් කරන ලද දිනය",
        book_now: "දැන් වෙන්කර ගන්න",
        please_fill_fields: "කරුණාකර සියලුම ක්ෂේත්‍ර පුරවන්න",
        searching: "සෙවිමින්...",

        // Booking
        select_seats: "ආසන තෝරන්න",
        available: "ලබා ගත හැකි",
        booked: "වෙන්කර ගත",
        selected: "තෝරා ගත",
        total_price: "සම්පූර්ණ මිල",
        proceed_payment: "ගෙවීමට ඉදිරියට යන්න",
        booking_details: "වෙන්කර ගැනීමේ විස්තර",
        passenger_name: "ගමන්කරුගේ නම",
        passenger_phone: "ගමන්කරුගේ දුරකථන අංකය",
        passenger_email: "ගමන්කරුගේ විද්‍යුත් තැපෑල",
        
        // Booking Page - SelectSeats
        select_your_seats: "ඔබේ ආසන තෝරන්න",
        from_location: "එතින්",
        to_location: "දක්වා",
        bus_number: "බස් අංකය",
        available_seats: "ලබා ගත හැකි ආසන",
        selected_hold: "තෝරා ගත (සිටින්න)",
        processing: "සැකසෙමින් (මිනිත්තු 20)",
        driver: "රිය පදිංචිකරු",
        legend: "සටහන",
        seat_selection_guide: "ඉිතින් ලබා ගත හැකි ආසන තෝරන්න. ඉදිරියට යාමට අවම වශයෙන් ආසන 1 අවශ්‍යයි.",
        selected_seats: "තෝරා ගත ආසන",
        total_fare: "සම්පූර්ණ ගාස්තුව",
        boarding_drop: "ඉවතු බිම සහ ඇතුළු බිම",
        pickup_location: "ඉවතු බිම (පිටත්වීම)",
        drop_location: "ඇතුළු බිම",
        where_to_pickup: "කොහේ ඉවතු ගනු",
        where_to_drop: "කොහේ ඇතුළු ගනු",
        proceed_to_payment: "ගෙවීමට ඉදිරියට යන්න",
        
        // Booking Page - ConfirmBooking
        confirm_your_booking: "ඔබේ වෙන්කර ගැනීම තහවුරු කරන්න",
        selected_seats_label: "තෝරා ගත ආසන",
        no_seats_selected: "ආසන තෝරා ගැනේ නැත (ආසන තේරීම නොමැතිව වෙන්කර ගැනීම)",
        pickup_location_label: "ඉවතු බිම",
        drop_location_label: "ඇතුළු බිම",
        distance: "දුරස්ථය",
        fare_per_km: "කි.මි. සඳහා ගාස්තුව",
        base_fare: "මූලික ගාස්තුව (දුරස්ථය × ගාස්තුව/කි.මි.)",
        service_charge: "සේවා ගාස්තුව",
        total_fare_label: "සම්පූර්ණ ගාස්තුව",
        card_payment_details: "ගිණුම් පත්‍ර ගෙවීමේ විස්තර",
        cardholder_name: "ගිණුම් පත්‍ර ස්වයම්භූ නම",
        card_number: "ගිණුම් පත්‍ර අංකය",
        expiry_date: "ගිණුම් පත්‍ර කල් ඉකුත් දිනය (MM/YY)",
        cvv: "CVV",
        security_info: "ඔබේ ගෙවීමේ තොරතුරු ආරක්ෂිත සහ සංකේතනය කර ඇත",
        pay: "ගෙවන්න",
        
        // Booking Page - Success
        booking_confirmed: "වෙන්කර ගැනීම තහවුරු විය!",
        ticket_booked: "ඔබේ බස් ඉඩ්ඩපත සාර්ථකව වෙන්කර ගන්නා ලදී",
        booking_reference: "වෙන්කර ගැනීමේ සම්මතයි සංඛ්‍යාව",
        booking_id: "වෙන්කර ගැනීමේ ID",
        bus_number_label: "බස් අංකය",
        status: "තත්ත්වය",
        booking_datetime: "වෙන්කර ගැනීමේ දිනය සහ වේලාව",
        route_summary: "මාර්ගයා හා වේලාව සාරාංශය",
        departure_label: "පිටත්වීම",
        travel_date: "ගමන් දිනය",
        booked_seats: "වෙන්කර ගත ආසන",
        print_ticket: "ඉඩ්ඩපත මුද්‍රණය කරන්න",
        back_to_home: "පිටුවට ආපසු",
        qr_code: "බස් ඇතුළුවීම සඳහා QR කේතය",
        qr_scan_info: "පිටත්වීමේ දී බස් පරිચාරකයාට මෙම QR කේතය පෙන්වන්න",

        // Messages
        enter_username: "ඔබේ පරිශීලක නාමය ඇතුළත් කරන්න",
        enter_password: "ඔබේ මුරපදය ඇතුළත් කරන්න",
        enter_email: "ඔබේ විද්‍යුත් තැපෑල ඇතුළත් කරන්න",
        enter_from_location: "ඉවතීමේ ස්ථානය ඇතුළත් කරන්න",
        enter_destination: "ගන්තවෙයි ඇතුළත් කරන්න",
        admin_note: "පරිපාලක ප්‍රවේශය",
        create_new_account: "නව ගිණුම සාදන්න",

        // Errors
        error_title: "දෝෂයකි",
        error_message: "දෝෂයක් සිදු විය. කරුණාකර නැවත උත්සාහ කරන්න.",
        connection_error: "දෝෂයකි. කරුණාකර ඔබේ අන්තර්ජාල පරීක්ෂා කරන්න.",
        invalid_email: "වලංගු නොවන විද්‍යුත් තැපෑල",
        field_required: "මෙම ක්ෂේත්‍රය අවශ්‍යයි"
    },

    ta: {
        // Common
        welcome: "வரவேற்கிறோம்",
        login: "உள்நுழைய",
        register: "பதிவு செய்க",
        username: "பயனர் பெயர்",
        password: "கடவுச்சொல்",
        email: "மின்னஞ்சல்",
        submit: "சமர்ப்பிக்கவும்",
        cancel: "ரத்து செய்",
        save: "சேமிக்கவும்",
        delete: "நீக்கு",
        edit: "திருத்து",
        search: "தேடு",
        home: "முகப்பு",
        profile: "சுயவிவரம்",
        settings: "அமைப்புகள்",
        logout: "வெளியேறு",
        privacy: "உரிமையுரிமை",
        yes: "ஆம்",
        no: "இல்லை",
        ok: "சரி",
        back: "பின்செல்",
        next: "அடுத்தது",
        previous: "முந்தைய",
        name: "பெயர்",
        phone: "தொலைபேசி",
        address: "முகவரி",
        date: "தேதி",
        time: "நேரம்",
        status: "நிலை",
        active: "செயலில்",
        inactive: "செயலற்ற",
        success: "வெற்றி",
        error: "பிழை",
        loading: "ஏற்றுகிறது...",
        close: "மூடு",

        // Auth
        full_name: "முழு பெயர்",
        phone_number: "தொலைபேசி எண்",
        id_number: "அடையாள எண்",
        confirm_password: "கடவுச்சொல்லை உறுதிப்படுத்தவும்",
        registration_successful: "பதிவு வெற்றிகரமாக உள்ளது! கருணைக்காக உள்நுழைய",
        all_fields_required: "அனைத்து புலங்களும் தேவை",
        passwords_not_match: "கடவுச்சொற்கள் பொருந்தவில்லை",
        username_exists: "பயனர்பெயர் ஏற்கனவே உள்ளது",
        id_exists: "அடையாள எண் ஏற்கனவே பதிவுசெய்யப்பட்டுள்ளது",
        invalid_credentials: "தவறான பயனர்பெயர் அல்லது கடவுச்சொல்",
        user_inactive: "பயனர் கணக்கு செயலற்றது",
        password_min_length: "கடவுச்சொல் குறைந்தது 4 வகைகளாக இருக்க வேண்டும்",
        admin_login: "நிர்வாகி உள்நுழைவு",
        admin_credentials: "பயனர் பெயர்: admin | கடவுச்சொல்: 123456",
        create_account: "கணக்கை உருவாக்கவும்",
        already_have_account: "ஏற்கனவே கணக்கு உள்ளதா?",
        no_account: "கணக்கு இல்லையா?",
        login_now: "இப்போது உள்நுழைய",

        // Language Selection
        select_language: "உங்கள் விருப்பமான மொழியைத் தேர்ந்தெடுக்கவும்",
        language_selection: "மொழி தேர்வு",
        choose_language: "தொடர செயல்பாடுகளுக்கு உங்கள் விருப்பமான மொழியைத் தேர்ந்தெடுக்கவும்",
        english: "ஆங்கிலம்",
        sinhala: "சிங்களம்",
        tamil: "தமிழ்",
        continue: "தொடரவும்",
        language_selected: "மொழி வெற்றிகரமாக தேர்ந்தெடுக்கப்பட்டது",
        language_info: "உங்கள் தேர்ந்தெடுக்கப்பட்ட மொழி முழு பயன்பாடு முழுவதும் பயன்படுத்தப்படும். நீங்கள் எந்த நேரத்திலும் அமைப்புகளிலிருந்து அதை மாற்றலாம்.",

        // Bus Search
        find_your_bus: "உங்கள் பேருந்தைக் கண்டறியவும்",
        from: "இருந்து",
        to: "க்கு",
        departure_date: "புறப்பாடு தேதி",
        search_buses: "பேருந்துகளைத் தேடு",
        no_buses_found: "தேர்ந்தெடுக்கப்பட்ட பாதை மற்றும் தேதிக்கு பேருந்துகள் இல்லை",
        found_buses: "{count} பேருந்துகள் கண்டறியப்பட்டன",
        bus_number: "பேருந்து எண்",
        departure_time: "புறப்பாட்டு நேரம்",
        seats: "இருக்கைகளின் எண்ணிக்கை",
        seat_structure: "இருக்கை அமைப்பு",
        condition: "நிலை",
        distance: "தூரம்",
        estimated_time: "மதிப்பிடப்பட்ட நேரம்",
        scheduled_date: "திட்டமிடப்பட்ட தேதி",
        book_now: "இப்போது முன்பதிவு செய்க",
        please_fill_fields: "கருணைக்காக அனைத்து புலங்களையும் பூரணம் செய்யவும்",
        searching: "தேடுகிறது...",

        // Booking
        select_seats: "இருக்கைகளைத் தேர்ந்தெடுக்கவும்",
        available: "கிடைக்கக்கூடிய",
        booked: "முன்பதிவு செய்யப்பட்ட",
        selected: "தேர்ந்தெடுக்கப்பட்ட",
        total_price: "மொத்த விலை",
        proceed_payment: "பணம் செலுத்தும் செயல்பாட்டிற்கு செல்லவும்",
        booking_details: "முன்பதிவு விவரங்கள்",
        passenger_name: "பயணியின் பெயர்",
        passenger_phone: "பயணியின் தொலைபேசி",
        passenger_email: "பயணியின் மின்னஞ்சல்",
        
        // Booking Page - SelectSeats
        select_your_seats: "உங்கள் இருக்கைகளைத் தேர்ந்தெடுக்கவும்",
        from_location: "இருந்து",
        to_location: "க்கு",
        bus_number: "பேருந்து எண்",
        available_seats: "கிடைக்கக்கூடிய இருக்கைகள்",
        selected_hold: "தேர்ந்தெடுக்கப்பட்ட (வைத்திருக்க)",
        processing: "செயலாக்குகிறது (20 நிமிடங்கள்)",
        driver: "ஓட்டுநர்",
        legend: "குறிப்பு",
        seat_selection_guide: "கிடைக்கக்கூடிய இருக்கைகளை கிளிக் செய்து தேர்ந்தெடுக்கவும். செல்ல குறைந்தது 1 இருக்கை தேவை.",
        selected_seats: "தேர்ந்தெடுக்கப்பட்ட இருக்கைகள்",
        total_fare: "மொத்த கட்டணம்",
        boarding_drop: "பிக்கப் மற்றும் ட்ராப் இடம்",
        pickup_location: "பிக்கப் இடம் (ஏறுதல்)",
        drop_location: "ட்ராப் இடம்",
        where_to_pickup: "எங்கு பிக்கப் செய்ய வேண்டும்",
        where_to_drop: "எங்கு ட்ராப் செய்ய வேண்டும்",
        proceed_to_payment: "பணம் செலுத்தும் செயல்பாட்டிற்கு செல்லவும்",
        
        // Booking Page - ConfirmBooking
        confirm_your_booking: "உங்கள் முன்பதிவை உறுதிப்படுத்தவும்",
        selected_seats_label: "தேர்ந்தெடுக்கப்பட்ட இருக்கைகள்",
        no_seats_selected: "இருக்கைகள் தேர்ந்தெடுக்கப்படவில்லை (இருக்கை தேர்வு இல்லாமல் முன்பதிவு)",
        pickup_location_label: "பிக்கப் இடம்",
        drop_location_label: "ட்ராப் இடம்",
        distance: "தூரம்",
        fare_per_km: "கிமிக்கு கட்டணம்",
        base_fare: "அடிப்படை கட்டணம் (தூரம் × கிமிக்கு கட்டணம்)",
        service_charge: "சேவை கட்டணம்",
        total_fare_label: "மொத்த கட்டணம்",
        card_payment_details: "கார்டு பணம் செலுத்தும் விவரங்கள்",
        cardholder_name: "கார்ட் உடைமையாளரின் பெயர்",
        card_number: "கார்டு எண்",
        expiry_date: "காலாவதி தேதி (MM/YY)",
        cvv: "CVV",
        security_info: "உங்கள் பணம் செலுத்தும் தகவல் பாதுகாப்பாக உள்ளது மற்றும் மறைக்குறியாக்கப்பட்டுள்ளது",
        pay: "பணம் செலுத்தவும்",
        
        // Booking Page - Success
        booking_confirmed: "முன்பதிவு உறுதிப்படுத்தப்பட்டுள்ளது!",
        ticket_booked: "உங்கள் பேருந்து சிலுவை வெற்றிகரமாக முன்பதிவு செய்யப்பட்டுள்ளது",
        booking_reference: "முன்பதிவு குறிப்பு எண்",
        booking_id: "முன்பதிவு ID",
        bus_number_label: "பேருந்து எண்",
        status: "நிலை",
        booking_datetime: "முன்பதிவு தேதி மற்றும் நேரம்",
        route_summary: "பாதை மற்றும் நேர சாராংசம்",
        departure_label: "புறப்பாடு",
        travel_date: "ভ্রমণ তারিখ",
        booked_seats: "முன்பதிவு செய்யப்பட்ட இருக்கைகள்",
        print_ticket: "டிக்கெட் அச்சிடவும்",
        back_to_home: "முகப்புக்குத் திரும்பவும்",
        qr_code: "பேருந்து நுழைவுக்கான QR குறியீடு",
        qr_scan_info: "ஏறுதலின் போது பேருந்து நடத்துனரிடம் இந்த QR குறியீட்டைக் காட்டவும்",

        // Messages
        enter_username: "உங்கள் பயனர் பெயரை உள்ளிடவும்",
        enter_password: "உங்கள் கடவுச்சொல்லை உள்ளிடவும்",
        enter_email: "உங்கள் மின்னஞ்சலை உள்ளிடவும்",
        enter_from_location: "புறப்பாட்டு இடத்தை உள்ளிடவும்",
        enter_destination: "இலக்கை உள்ளிடவும்",
        admin_note: "நிர்வாகி உள்நுழைவு",
        create_new_account: "புதிய கணக்கை உருவாக்கவும்",

        // Errors
        error_title: "பிழை",
        error_message: "பிழை ஏற்பட்டது. கருணைக்காக மீண்டும் முயற்சிக்கவும்.",
        connection_error: "இணைப்பு பிழை. தயவுசெய்து உங்கள் இணையம் சரிபார்க்கவும்.",
        invalid_email: "தவறான மின்னஞ்சல் முகவரி",
        field_required: "இந்த புலம் தேவை"
    }
};

// Language management
let currentLanguage = localStorage.getItem('preferredLanguage') || 'en';

function changeLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        localStorage.setItem('preferredLanguage', lang);
        translatePage();
        return true;
    }
    return false;
}

function getCurrentLanguage() {
    return currentLanguage;
}

function translateText(key) {
    if (translations[currentLanguage] && translations[currentLanguage][key]) {
        return translations[currentLanguage][key];
    }
    // Fallback to English if key not found
    if (translations.en && translations.en[key]) {
        return translations.en[key];
    }
    return key; // Return key if no translation found
}

function translatePage() {
    // Translate text content
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        const translated = translateText(key);
        
        // Handle case where translation has parameters like {count}
        const textContent = element.textContent;
        let matches = textContent.match(/\{(\w+)\}/g);
        if (matches) {
            matches.forEach(match => {
                translated = translated.replace(match, element.getAttribute(`data-${match.slice(1, -1)}`));
            });
        }
        
        element.textContent = translated;
    });

    // Translate placeholders
    document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
        const key = element.getAttribute('data-translate-placeholder');
        element.placeholder = translateText(key);
    });

    // Translate title attributes
    document.querySelectorAll('[data-translate-title]').forEach(element => {
        const key = element.getAttribute('data-translate-title');
        element.title = translateText(key);
    });

    // Translate value attributes (for buttons, etc.)
    document.querySelectorAll('[data-translate-value]').forEach(element => {
        const key = element.getAttribute('data-translate-value');
        element.value = translateText(key);
    });
}

// Initialize on page load
window.addEventListener('DOMContentLoaded', () => {
    translatePage();
});

// Helper function for dynamic translation (useful for JavaScript-rendered content)
function t(key, defaultValue = key) {
    return translateText(key) || defaultValue;
}
